(function(J){var L,C,D,H,K,I,O,G,F,N,B;C="_"+new Date().getTime();L=document.getElementsByTagName("head")[0];(function(){var Q={};this.tmpl=function P(T,S){var R=!/\W/.test(T)?Q[T]=Q[T]||P(document.getElementById(T).innerHTML):new Function("obj","var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+T.replace(/[\r\t\n]/g," ").split("<%").join("\t").replace(/((^|%>)[^\t]*)'/g,"$1\r").replace(/\t=(.*?)%>/g,"',$1,'").split("\t").join("');").split("%>").join("p.push('").split("\r").join("\\'")+"');}return p.join('');");return S?R(S):R;};}());function A(P,Q){H=document.createElement("script");H.type=(Q)?"text/html":"text/javascript";H.id=(Q)?"tmpl"+C:"js"+C;if(Q&&Q.id){H.id=Q.id;}H.appendChild(document.createTextNode(P));return H;}function E(P){K=document.createElement("style");K.type="text/css";K.id="css"+C;if(K.styleSheet){K.styleSheet.cssText=P;}else{K.appendChild(document.createTextNode(P));}return K;}function M(P){if(P.id&&document.getElementById(P.id)){L.removeChild(document.getElementById(P.id));}L.appendChild(P);}B=[];if(J.css){D=E(unescape(J.css));M(D);B.push(D);}if(J.js){D=A(unescape(J.js));M(D);B.push(D);}if(J.data){if(J.data.template){D=A(unescape(" "+J.data.template+" "),J.data);M(D);B.push(D);}N=J.data.id||"tmpl"+C;if(document.getElementById(N)){G=tmpl(N,J.data);}}if(G||J.dom){I=document.body;if(J.dom&&J.dom.target){I=J.dom.target;}O="div";if(J.dom&&J.dom.tag){O=J.dom.tag;}if(!G){if(J.dom&&J.dom.htm){G=unescape(J.dom.htm);}else{G=unescape(J.dom);}}F=(J.dom&&J.dom.position)?J.dom.position:"append";D=document.createElement(O);D.innerHTML=G;switch(F){case"after":I.parentNode.insertBefore(D,I.nextSibling);break;case"before":I.parentNode.insertBefore(D,I);break;case"replace":I.parentNode.insertBefore(D,I);I.parentNode.removeChild(I);break;default:I.appendChild(D);break;}B.push(D);}return B;}({
    js: "var m ='hello world';try{console.log(m)}catch(e){alert(m)}",
    css: "body{background-color:#ededed}",
    dom: {tag:"ul",target:document.body,position:"append",htm:"<p>remove template for this content</p>"},
    data: {
        id: "exampleTemplate",
        template: "<% for (var i=0; i<list.length; i++ ){ %> <li><%=list[i]%></li> <% } %>",
        list: ["hello","world"]
    }
}));